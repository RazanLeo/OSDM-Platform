# ğŸš€ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© - OSDM Platform

---

## âœ… Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:

1. âœ… **ØªÙˆØ³ÙŠØ¹ Schema Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª** - ØªÙ… Ø¥Ø¶Ø§ÙØ© 596+ Ù†ÙˆØ¹
   - Ø¬Ø¯ÙˆÙ„ A: 312 Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© (8 ÙØ¦Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©)
   - Ø¬Ø¯ÙˆÙ„ B: 234 Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© (8 ÙØ¦Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©)
   - Ø¬Ø¯ÙˆÙ„ C: 50+ ÙØ¦Ø© Ù…Ù† Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±

2. âœ… **Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„** - ØªÙ… Ø¥Ù†Ø´Ø§Ø¡:
   - `CATEGORIES_COMPLETE.md` - Ù‚Ø§Ø¦Ù…Ø© Ø´Ø§Ù…Ù„Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
   - `IMPLEMENTATION_PLAN.md` - Ø®Ø±ÙŠØ·Ø© Ø·Ø±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„Ø©

3. âœ… **Ø±ÙØ¹ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª** - ØªÙ… Ø±ÙØ¹ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ GitHub
   - Commit: 174e590 - "feat: Add complete comprehensive categories (596+ types)"

---

## ğŸ¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©

### Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©:
Ø§Ù„Ø¢Ù† Ø¨Ø¹Ø¯ Ø£Ù† Ø£ØµØ¨Ø­Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØµÙ†ÙŠÙØ§ØªØŒ Ù†Ø¨Ø¯Ø£ Ø¨Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ø§Ù„ØªÙŠ Ø³ØªØ¬Ø¹Ù„ Ø§Ù„Ù…Ù†ØµØ© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆÙØ¹Ø§Ù„.

---

## ğŸ“‹ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° (Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©):

### Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©

#### 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„ (Authentication System) - Ø£Ø¹Ù„Ù‰ Ø£ÙˆÙ„ÙˆÙŠØ©

**Ø§Ù„Ù‡Ø¯Ù:** Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙƒØ§Ù…Ù„ Ù…Ø¹ 3 Ø£Ù†ÙˆØ§Ø¹ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**

**Ø£. Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ø¯Ø«:**
```prisma
model User {
  id            String    @id @default(cuid())
  username      String    @unique
  email         String    @unique
  password      String    // hashed
  role          UserRole  @default(BUYER)

  // Profile
  fullName      String?
  avatar        String?
  phone         String?
  location      String?
  bio           String?

  // Settings
  language      Language  @default(AR)
  emailVerified Boolean   @default(false)
  phoneVerified Boolean   @default(false)

  // Timestamps
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  lastLoginAt   DateTime?

  // Relations
  products      Product[]
  services      Service[]
  jobs          FreelanceJob[]
  purchases     Order[]
  reviews       Review[]
  messages      Message[]
  notifications Notification[]
}

enum UserRole {
  ADMIN        // Ø§Ù„Ù…Ø¯ÙŠØ± (Razan@OSDM)
  SELLER       // Ø§Ù„Ø¨Ø§Ø¦Ø¹ (ÙŠØ¨ÙŠØ¹ Ù…Ù†ØªØ¬Ø§Øª/Ø®Ø¯Ù…Ø§Øª/Ù…Ø´Ø§Ø±ÙŠØ¹)
  BUYER        // Ø§Ù„Ù…Ø´ØªØ±ÙŠ (ÙŠØ´ØªØ±ÙŠ ÙÙ‚Ø·)
}

enum Language {
  AR           // Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
  EN           // Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
}
```

**Ø¨. ØµÙØ­Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„:**
- `/app/[locale]/auth/login/page.tsx` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- `/app/[locale]/auth/register/page.tsx` - Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
- `/app/[locale]/auth/forgot-password/page.tsx` - Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
- `/app/[locale]/auth/reset-password/page.tsx` - Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±

**Ø¬. NextAuth Configuration:**
```typescript
// app/api/auth/[...nextauth]/route.ts
import NextAuth from "next-auth"
import CredentialsProvider from "next-auth/providers/credentials"
import { PrismaAdapter } from "@auth/prisma-adapter"
import { prisma } from "@/lib/prisma"
import bcrypt from "bcryptjs"

export const authOptions = {
  adapter: PrismaAdapter(prisma),
  providers: [
    CredentialsProvider({
      name: "credentials",
      credentials: {
        username: { label: "Username", type: "text" },
        password: { label: "Password", type: "password" }
      },
      async authorize(credentials) {
        if (!credentials?.username || !credentials?.password) {
          throw new Error("Invalid credentials")
        }

        const user = await prisma.user.findUnique({
          where: { username: credentials.username }
        })

        if (!user || !user.password) {
          throw new Error("Invalid credentials")
        }

        const isCorrectPassword = await bcrypt.compare(
          credentials.password,
          user.password
        )

        if (!isCorrectPassword) {
          throw new Error("Invalid credentials")
        }

        // Update last login
        await prisma.user.update({
          where: { id: user.id },
          data: { lastLoginAt: new Date() }
        })

        return user
      }
    })
  ],
  session: {
    strategy: "jwt"
  },
  pages: {
    signIn: "/ar/auth/login",
    error: "/ar/auth/error"
  },
  callbacks: {
    async jwt({ token, user }) {
      if (user) {
        token.id = user.id
        token.role = user.role
        token.username = user.username
      }
      return token
    },
    async session({ session, token }) {
      if (token) {
        session.user.id = token.id
        session.user.role = token.role
        session.user.username = token.username
      }
      return session
    }
  }
}
```

**Ø¯. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ:**
```typescript
// prisma/seed.ts - Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ±
import { PrismaClient } from '@prisma/client'
import bcrypt from 'bcryptjs'

const prisma = new PrismaClient()

async function main() {
  // Create Admin Account
  const hashedPassword = await bcrypt.hash('RazanOSDM@056300', 10)

  const admin = await prisma.user.upsert({
    where: { username: 'Razan@OSDM' },
    update: {},
    create: {
      username: 'Razan@OSDM',
      email: 'app.osdm@gmail.com',
      password: hashedPassword,
      role: 'ADMIN',
      fullName: 'Ø±Ø²Ø§Ù† ØªÙˆÙÙŠÙ‚',
      emailVerified: true,
      phoneVerified: true,
      language: 'AR'
    }
  })

  console.log('âœ… Admin account created:', admin)
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
```

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
- `lib/auth.ts` - Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- `middleware.ts` - Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø§Øª
- `components/auth/LoginForm.tsx` - Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- `components/auth/RegisterForm.tsx` - Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„

---

#### 2. Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Admin Dashboard)

**Ø§Ù„Ù‡Ø¯Ù:** Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±Ø© Ø±Ø²Ø§Ù†

**Ø§Ù„Ù…Ø³Ø§Ø±:** `/app/[locale]/dashboard/admin/page.tsx`

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© (Overview):**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ø¥Ø¯Ø§Ø±ÙŠÙŠÙ†ØŒ Ø¨Ø§Ø¦Ø¹ÙŠÙ†ØŒ Ù…Ø´ØªØ±ÙŠÙ†)
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª/Ø§Ù„Ø®Ø¯Ù…Ø§Øª/Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµØ©)
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙŠÙˆÙ…ÙŠØ©/Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©/Ø´Ù‡Ø±ÙŠØ©

**Ø¨. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:**
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù/Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
- Ø¹Ø±Ø¶ Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

**Ø¬. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰:**
- Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±)
- Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
- Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶

**Ø¯. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª:**
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª
- Ø­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª
- Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ù…ÙˆØ§Ù„

**Ù‡Ù€. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª:**
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª
- Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­

**Ùˆ. Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±:**
- ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
- ØªØµØ¯ÙŠØ± Excel/PDF

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
```
app/[locale]/dashboard/admin/
â”œâ”€â”€ page.tsx (Overview)
â”œâ”€â”€ users/page.tsx
â”œâ”€â”€ products/page.tsx
â”œâ”€â”€ services/page.tsx
â”œâ”€â”€ jobs/page.tsx
â”œâ”€â”€ orders/page.tsx
â”œâ”€â”€ disputes/page.tsx
â”œâ”€â”€ payments/page.tsx
â”œâ”€â”€ reports/page.tsx
â””â”€â”€ settings/page.tsx
```

---

#### 3. Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ø§Ù„Ù…ÙˆØ­Ø¯Ø© (Unified Seller Dashboard)

**Ø§Ù„Ù‡Ø¯Ù:** Ù„ÙˆØ­Ø© ÙˆØ§Ø­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø«Ù„Ø§Ø«Ø©

**Ø§Ù„Ù…Ø³Ø§Ø±:** `/app/[locale]/dashboard/seller/page.tsx`

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª/Ø§Ù„Ø®Ø¯Ù…Ø§Øª/Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

**Ø¨. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:**
- Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
- ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ù…Ù†ØªØ¬Ø§Øª
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª

**Ø¬. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ©:**
- Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°ØŒ Ù…ÙƒØªÙ…Ù„)
- Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª

**Ø¯. Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±:**
- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø©
- ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±ÙˆØ¶
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø§Ø±ÙŠØ©
- ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹

**Ù‡Ù€. Ø§Ù„Ù…Ø­ÙØ¸Ø©:**
- Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
- Ø§Ù„Ù…Ø³Ø­ÙˆØ¨Ø§Øª
- Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø§Ù„ÙŠ

**Ùˆ. Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:**
- Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù…Ø¹ Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ†
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
```
app/[locale]/dashboard/seller/
â”œâ”€â”€ page.tsx (Overview)
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ page.tsx (List)
â”‚   â”œâ”€â”€ new/page.tsx (Add Product)
â”‚   â””â”€â”€ [id]/edit/page.tsx (Edit)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ page.tsx (List)
â”‚   â”œâ”€â”€ new/page.tsx (Add Service)
â”‚   â””â”€â”€ [id]/edit/page.tsx (Edit)
â”œâ”€â”€ jobs/
â”‚   â”œâ”€â”€ browse/page.tsx (Browse Jobs)
â”‚   â”œâ”€â”€ proposals/page.tsx (My Proposals)
â”‚   â””â”€â”€ active/page.tsx (Active Projects)
â”œâ”€â”€ orders/page.tsx
â”œâ”€â”€ wallet/page.tsx
â”œâ”€â”€ messages/page.tsx
â””â”€â”€ settings/page.tsx
```

---

#### 4. Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´ØªØ±ÙŠ (Buyer Dashboard)

**Ø§Ù„Ù‡Ø¯Ù:** Ù„ÙˆØ­Ø© Ù„Ù„Ù…Ø´ØªØ±ÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´ØªØ±ÙŠØ§ØªÙ‡ ÙˆØ·Ù„Ø¨Ø§ØªÙ‡

**Ø§Ù„Ù…Ø³Ø§Ø±:** `/app/[locale]/dashboard/buyer/page.tsx`

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©:**
- Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
- Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø§Ø±ÙŠØ©
- Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª

**Ø¨. Ù…Ø´ØªØ±ÙŠØ§ØªÙŠ:**
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø´ØªØ±Ø§Ø©
- Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª
- Ø§Ù„ÙÙˆØ§ØªÙŠØ±

**Ø¬. Ø·Ù„Ø¨Ø§ØªÙŠ:**
- Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
- Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª

**Ø¯. Ù…Ø´Ø§Ø±ÙŠØ¹ÙŠ:**
- Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©
- Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©
- Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø§Ø±ÙŠØ©
- Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©

**Ù‡Ù€. Ø§Ù„Ù…ÙØ¶Ù„Ø©:**
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©
- Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…ÙØ¶Ù„ÙŠÙ†

**Ùˆ. Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:**
- Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
```
app/[locale]/dashboard/buyer/
â”œâ”€â”€ page.tsx (Overview)
â”œâ”€â”€ purchases/page.tsx
â”œâ”€â”€ orders/page.tsx
â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ page.tsx (My Projects)
â”‚   â”œâ”€â”€ new/page.tsx (Post Project)
â”‚   â””â”€â”€ [id]/proposals/page.tsx (View Proposals)
â”œâ”€â”€ favorites/page.tsx
â”œâ”€â”€ messages/page.tsx
â””â”€â”€ settings/page.tsx
```

---

### Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ø§Ù„Ø­ÙŠÙˆÙŠØ©

#### 5. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (Real Search System)

**Ø§Ù„Ù‡Ø¯Ù:** Ø¨Ø­Ø« Ø´Ø§Ù…Ù„ ÙˆÙØ¹Ø§Ù„ Ø¹Ø¨Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø«Ù„Ø§Ø«Ø©

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Search API:**
```typescript
// app/api/search/route.ts
export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const query = searchParams.get('q')
  const market = searchParams.get('market') // products, services, jobs, all
  const category = searchParams.get('category')
  const minPrice = searchParams.get('minPrice')
  const maxPrice = searchParams.get('maxPrice')

  // Search in Products
  const products = await prisma.product.findMany({
    where: {
      OR: [
        { titleAr: { contains: query, mode: 'insensitive' } },
        { titleEn: { contains: query, mode: 'insensitive' } },
        { descriptionAr: { contains: query, mode: 'insensitive' } },
        { descriptionEn: { contains: query, mode: 'insensitive' } },
        { tags: { has: query } }
      ],
      category: category ? { equals: category } : undefined,
      price: {
        gte: minPrice ? parseFloat(minPrice) : undefined,
        lte: maxPrice ? parseFloat(maxPrice) : undefined
      },
      status: 'APPROVED'
    },
    include: {
      seller: {
        select: {
          username: true,
          avatar: true,
          rating: true
        }
      }
    },
    take: 20
  })

  // Search in Services
  // Search in Jobs

  return Response.json({
    products,
    services,
    jobs,
    total: products.length + services.length + jobs.length
  })
}
```

**Ø¨. Search Component:**
```typescript
// components/search/SearchBar.tsx
'use client'

import { useState, useEffect } from 'react'
import { useRouter } from 'next/navigation'
import { Search } from 'lucide-react'

export function SearchBar() {
  const [query, setQuery] = useState('')
  const [results, setResults] = useState([])
  const [isLoading, setIsLoading] = useState(false)
  const router = useRouter()

  useEffect(() => {
    if (query.length < 2) {
      setResults([])
      return
    }

    const timer = setTimeout(async () => {
      setIsLoading(true)
      const res = await fetch(`/api/search?q=${encodeURIComponent(query)}`)
      const data = await res.json()
      setResults(data)
      setIsLoading(false)
    }, 300)

    return () => clearTimeout(timer)
  }, [query])

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    router.push(`/search?q=${encodeURIComponent(query)}`)
  }

  return (
    <form onSubmit={handleSubmit} className="relative">
      <input
        type="text"
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬Ø§ØªØŒ Ø®Ø¯Ù…Ø§ØªØŒ Ø£Ùˆ Ù…Ø´Ø§Ø±ÙŠØ¹..."
        className="w-full px-4 py-2 pr-10 rounded-lg border"
      />
      <Search className="absolute right-3 top-2.5 h-5 w-5 text-gray-400" />

      {/* Search Results Dropdown */}
      {results.length > 0 && (
        <div className="absolute top-full mt-2 w-full bg-white rounded-lg shadow-lg">
          {/* Display results */}
        </div>
      )}
    </form>
  )
}
```

**Ø¬. Search Results Page:**
```typescript
// app/[locale]/search/page.tsx
export default async function SearchPage({
  searchParams
}: {
  searchParams: { q: string }
}) {
  // Fetch and display search results
}
```

---

#### 6. Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (Advanced Filters)

**Ø§Ù„Ù‡Ø¯Ù:** ÙÙ„Ø§ØªØ± Ø´Ø§Ù…Ù„Ø© Ù„ÙƒÙ„ Ø³ÙˆÙ‚

**Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**

**Ø£. Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:**
- Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (8 ÙØ¦Ø§Øª)
- Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ (596+ Ù†ÙˆØ¹)
- Ø§Ù„Ø³Ø¹Ø± (Ù…Ù† - Ø¥Ù„Ù‰)
- Ù†ÙˆØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ (Ø´Ø®ØµÙŠØŒ ØªØ¬Ø§Ø±ÙŠØŒ Ù…Ù…ØªØ¯)
- Ø§Ù„ØªÙ‚ÙŠÙŠÙ… (5 Ù†Ø¬ÙˆÙ…ØŒ 4+ØŒ 3+)
- Ø§Ù„Ø¨Ø§Ø¦Ø¹
- Ø§Ù„Ù„ØºØ©
- ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±

**Ø¨. Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ©:**
- Ø§Ù„ÙØ¦Ø© (8 ÙØ¦Ø§Øª)
- Ø§Ù„Ù†ÙˆØ¹ (234 Ù†ÙˆØ¹)
- Ø§Ù„Ø³Ø¹Ø±
- ÙˆÙ‚Øª Ø§Ù„ØªØ³Ù„ÙŠÙ…
- Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¨Ø§Ø¦Ø¹
- Ø§Ù„Ù„ØºØ©

**Ø¬. Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±:**
- Ø§Ù„ØªØ®ØµØµ (50+ ÙØ¦Ø©)
- Ø­Ø¬Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (ØµØºÙŠØ±ØŒ Ù…ØªÙˆØ³Ø·ØŒ ÙƒØ¨ÙŠØ±ØŒ Ù…Ø¹Ù‚Ø¯)
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø¨Ø±Ø© (Ù…Ø¨ØªØ¯Ø¦ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ø®Ø¨ÙŠØ±)
- Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
- Ø§Ù„Ù…Ø¯Ø©
- Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Ù…ÙØªÙˆØ­ØŒ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°ØŒ Ù…ÙƒØªÙ…Ù„)

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**
```typescript
// components/filters/ProductFilters.tsx
// components/filters/ServiceFilters.tsx
// components/filters/JobFilters.tsx
```

---

#### 7. Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (Real Notifications System)

**Ø§Ù„Ù‡Ø¯Ù:** ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙˆØ±ÙŠØ© ÙˆÙØ¹Ø§Ù„Ø©

**Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª:**
1. Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
2. Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯
3. Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
4. ØªÙ‚ÙŠÙŠÙ… Ø¬Ø¯ÙŠØ¯
5. Ø±Ø¯ Ø¹Ù„Ù‰ Ø¹Ø±Ø¶
6. Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ Ù…Ù†ØªØ¬/Ø®Ø¯Ù…Ø©
7. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø·Ù„Ø¨
8. Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­
9. Ù†Ø²Ø§Ø¹ Ø¬Ø¯ÙŠØ¯

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Notification Model:**
```prisma
model Notification {
  id          String   @id @default(cuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id])

  type        NotificationType
  titleAr     String
  titleEn     String
  messageAr   String
  messageEn   String
  link        String?

  isRead      Boolean  @default(false)
  createdAt   DateTime @default(now())

  @@index([userId])
}

enum NotificationType {
  NEW_ORDER
  NEW_SALE
  NEW_MESSAGE
  NEW_REVIEW
  PROPOSAL_RESPONSE
  CONTENT_APPROVED
  CONTENT_REJECTED
  ORDER_UPDATE
  WITHDRAWAL
  NEW_DISPUTE
}
```

**Ø¨. Notification API:**
```typescript
// app/api/notifications/route.ts
export async function GET(request: Request) {
  const session = await getServerSession(authOptions)
  if (!session) return Response.json({ error: 'Unauthorized' }, { status: 401 })

  const notifications = await prisma.notification.findMany({
    where: { userId: session.user.id },
    orderBy: { createdAt: 'desc' },
    take: 50
  })

  return Response.json(notifications)
}
```

**Ø¬. Notification Component:**
```typescript
// components/notifications/NotificationBell.tsx
'use client'

import { Bell } from 'lucide-react'
import { useEffect, useState } from 'react'

export function NotificationBell() {
  const [notifications, setNotifications] = useState([])
  const [unreadCount, setUnreadCount] = useState(0)

  useEffect(() => {
    // Fetch notifications
    fetch('/api/notifications')
      .then(res => res.json())
      .then(data => {
        setNotifications(data)
        setUnreadCount(data.filter(n => !n.isRead).length)
      })

    // Poll every 30 seconds
    const interval = setInterval(() => {
      // Fetch new notifications
    }, 30000)

    return () => clearInterval(interval)
  }, [])

  return (
    <button className="relative">
      <Bell className="h-6 w-6" />
      {unreadCount > 0 && (
        <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
          {unreadCount}
        </span>
      )}
    </button>
  )
}
```

---

#### 8. Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª (File Upload System)

**Ø§Ù„Ù‡Ø¯Ù:** Ø±ÙØ¹ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª

**Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:**
- Ø¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙŠØº (PDF, DOCX, ZIP, MP4, MP3, JPG, PNG, Ø§Ù„Ø®)
- Ø±ÙØ¹ Ù…Ù„ÙØ§Øª ÙƒØ¨ÙŠØ±Ø© (Ø­ØªÙ‰ 5GB)
- Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ (AWS S3 Ø£Ùˆ DigitalOcean Spaces)
- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (signed URLs)

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Upload API:**
```typescript
// app/api/upload/route.ts
import { S3Client, PutObjectCommand } from "@aws-sdk/client-s3"

const s3Client = new S3Client({
  region: process.env.AWS_REGION!,
  credentials: {
    accessKeyId: process.env.AWS_ACCESS_KEY_ID!,
    secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY!
  }
})

export async function POST(request: Request) {
  const formData = await request.formData()
  const file = formData.get('file') as File

  if (!file) {
    return Response.json({ error: 'No file provided' }, { status: 400 })
  }

  // Validate file
  const maxSize = 5 * 1024 * 1024 * 1024 // 5GB
  if (file.size > maxSize) {
    return Response.json({ error: 'File too large' }, { status: 400 })
  }

  // Generate unique filename
  const filename = `${Date.now()}-${file.name}`
  const buffer = Buffer.from(await file.arrayBuffer())

  // Upload to S3
  const command = new PutObjectCommand({
    Bucket: process.env.AWS_S3_BUCKET!,
    Key: filename,
    Body: buffer,
    ContentType: file.type
  })

  await s3Client.send(command)

  const url = `https://${process.env.AWS_S3_BUCKET}.s3.${process.env.AWS_REGION}.amazonaws.com/${filename}`

  return Response.json({ url, filename })
}
```

**Ø¨. Upload Component:**
```typescript
// components/upload/FileUpload.tsx
'use client'

import { useState } from 'react'
import { Upload, X } from 'lucide-react'

export function FileUpload({ onUpload }: { onUpload: (url: string) => void }) {
  const [uploading, setUploading] = useState(false)
  const [progress, setProgress] = useState(0)

  const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (!file) return

    setUploading(true)

    const formData = new FormData()
    formData.append('file', file)

    try {
      const res = await fetch('/api/upload', {
        method: 'POST',
        body: formData
      })

      const data = await res.json()
      onUpload(data.url)
    } catch (error) {
      console.error('Upload failed:', error)
    } finally {
      setUploading(false)
    }
  }

  return (
    <div className="border-2 border-dashed rounded-lg p-6">
      <input
        type="file"
        onChange={handleUpload}
        disabled={uploading}
        className="hidden"
        id="file-upload"
      />
      <label htmlFor="file-upload" className="cursor-pointer">
        <Upload className="mx-auto h-12 w-12 text-gray-400" />
        <p className="mt-2 text-sm text-gray-600">
          {uploading ? `Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹... ${progress}%` : 'Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù'}
        </p>
      </label>
    </div>
  )
}
```

---

#### 9. ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Payment Gateway Integration)

**Ø§Ù„Ù‡Ø¯Ù:** Ø¯Ù…Ø¬ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙˆØ§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©

**Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
1. **Moyasar** (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©)
2. **PayTabs** (Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©)
3. **PayPal** (Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¯ÙˆÙ„ÙŠÙŠÙ†)

**Ø£. Moyasar Integration:**
```typescript
// lib/moyasar.ts
export async function createPayment({
  amount,
  description,
  callbackUrl,
  metadata
}: {
  amount: number
  description: string
  callbackUrl: string
  metadata: any
}) {
  const response = await fetch('https://api.moyasar.com/v1/payments', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Basic ${Buffer.from(process.env.MOYASAR_SECRET_KEY + ':').toString('base64')}`
    },
    body: JSON.stringify({
      amount: Math.round(amount * 100), // Convert to halalas
      currency: 'SAR',
      description,
      callback_url: callbackUrl,
      metadata,
      source: {
        type: 'creditcard'
      }
    })
  })

  return response.json()
}
```

**Ø¨. Payment Flow:**
1. Ø§Ù„Ù…Ø´ØªØ±ÙŠ ÙŠØ¶ØºØ· "Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†"
2. Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ (Order) ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¯ÙØ¹ Ù…Ø¹ Moyasar
4. ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø´ØªØ±ÙŠ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹
5. Callback Ù…Ù† Moyasar Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹
6. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
7. Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ø¨Ø§Ø¦Ø¹ ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠ
8. Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ­Ù…ÙŠÙ„

**Ø¬. Payment Models:**
```prisma
model Order {
  id              String        @id @default(cuid())
  orderNumber     String        @unique

  buyerId         String
  buyer           User          @relation(fields: [buyerId], references: [id])

  sellerId        String
  seller          User          @relation(fields: [sellerId], references: [id], name: "SellerOrders")

  productId       String?
  product         Product?      @relation(fields: [productId], references: [id])

  serviceId       String?
  service         Service?      @relation(fields: [serviceId], references: [id])

  amount          Float
  platformFee     Float
  sellerAmount    Float

  status          OrderStatus   @default(PENDING)
  paymentStatus   PaymentStatus @default(PENDING)
  paymentMethod   String?
  paymentId       String?

  createdAt       DateTime      @default(now())
  paidAt          DateTime?
  completedAt     DateTime?

  @@index([buyerId])
  @@index([sellerId])
}

enum OrderStatus {
  PENDING
  PAID
  IN_PROGRESS
  COMPLETED
  CANCELLED
  REFUNDED
}

enum PaymentStatus {
  PENDING
  PAID
  FAILED
  REFUNDED
}
```

---

#### 10. Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª (Reviews & Ratings System)

**Ø§Ù„Ù‡Ø¯Ù:** ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…ÙˆØ«ÙˆÙ‚Ø© Ù„Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**

**Ø£. Review Model:**
```prisma
model Review {
  id          String   @id @default(cuid())

  reviewerId  String
  reviewer    User     @relation(fields: [reviewerId], references: [id])

  productId   String?
  product     Product? @relation(fields: [productId], references: [id])

  serviceId   String?
  service     Service? @relation(fields: [serviceId], references: [id])

  sellerId    String
  seller      User     @relation(fields: [sellerId], references: [id], name: "SellerReviews")

  rating      Int      // 1-5 stars
  comment     String?

  isVerified  Boolean  @default(false) // Only buyers who purchased can review

  createdAt   DateTime @default(now())

  @@index([productId])
  @@index([serviceId])
  @@index([sellerId])
}
```

**Ø¨. Rating Calculation:**
```typescript
// Update seller rating after new review
async function updateSellerRating(sellerId: string) {
  const reviews = await prisma.review.findMany({
    where: { sellerId, isVerified: true }
  })

  const averageRating = reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length

  await prisma.user.update({
    where: { id: sellerId },
    data: {
      rating: averageRating,
      totalReviews: reviews.length
    }
  })
}
```

---

#### 11. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© (Messaging System)

**Ø§Ù„Ù‡Ø¯Ù:** Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ† ÙˆØ§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†

**Ø£. Message Model:**
```prisma
model Conversation {
  id          String    @id @default(cuid())

  user1Id     String
  user1       User      @relation(fields: [user1Id], references: [id], name: "User1Conversations")

  user2Id     String
  user2       User      @relation(fields: [user2Id], references: [id], name: "User2Conversations")

  messages    Message[]

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@unique([user1Id, user2Id])
}

model Message {
  id              String       @id @default(cuid())

  conversationId  String
  conversation    Conversation @relation(fields: [conversationId], references: [id])

  senderId        String
  sender          User         @relation(fields: [senderId], references: [id])

  content         String
  attachments     String[]

  isRead          Boolean      @default(false)
  createdAt       DateTime     @default(now())

  @@index([conversationId])
  @@index([senderId])
}
```

**Ø¨. Real-time Updates:**
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Pusher Ø£Ùˆ Socket.io Ù„Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ÙÙˆØ±ÙŠØ©
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

---

## ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

```
osdm-platform/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ [locale]/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ register/page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ forgot-password/page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ reset-password/page.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ products/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ orders/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ disputes/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ payments/page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reports/page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ seller/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ orders/page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ wallet/page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ messages/page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ buyer/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ purchases/page.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ orders/page.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ projects/
â”‚   â”‚   â”‚       â””â”€â”€ messages/page.tsx
â”‚   â”‚   â”œâ”€â”€ marketplace/
â”‚   â”‚   â”‚   â”œâ”€â”€ ready-products/
â”‚   â”‚   â”‚   â”œâ”€â”€ custom-services/
â”‚   â”‚   â”‚   â””â”€â”€ freelance-jobs/
â”‚   â”‚   â””â”€â”€ search/page.tsx
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth/[...nextauth]/route.ts
â”‚       â”œâ”€â”€ search/route.ts
â”‚       â”œâ”€â”€ notifications/route.ts
â”‚       â”œâ”€â”€ upload/route.ts
â”‚       â”œâ”€â”€ payment/
â”‚       â”‚   â”œâ”€â”€ create/route.ts
â”‚       â”‚   â””â”€â”€ callback/route.ts
â”‚       â””â”€â”€ messages/route.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â””â”€â”€ RegisterForm.tsx
â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â””â”€â”€ SearchBar.tsx
â”‚   â”œâ”€â”€ filters/
â”‚   â”‚   â”œâ”€â”€ ProductFilters.tsx
â”‚   â”‚   â”œâ”€â”€ ServiceFilters.tsx
â”‚   â”‚   â””â”€â”€ JobFilters.tsx
â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â””â”€â”€ NotificationBell.tsx
â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â””â”€â”€ FileUpload.tsx
â”‚   â””â”€â”€ messaging/
â”‚       â””â”€â”€ ChatBox.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ prisma.ts
â”‚   â”œâ”€â”€ moyasar.ts
â”‚   â””â”€â”€ upload.ts
â””â”€â”€ prisma/
    â”œâ”€â”€ schema.prisma
    â””â”€â”€ seed.ts
```

---

## ğŸ¯ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª:

### Ø£ÙˆÙ„ÙˆÙŠØ© Ù‚ØµÙˆÙ‰ (ÙŠØ¬Ø¨ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ù‡Ø§ Ø§Ù„Ø¢Ù†):
1. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„
2. âœ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ± (Razan@OSDM)
3. âœ… Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
4. âœ… Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¨Ø§Ø¦Ø¹
5. âœ… Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´ØªØ±ÙŠ

### Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©:
6. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
7. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
8. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ

### Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©:
9. âœ… Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
10. âœ… ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹
11. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª

### Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ø¯ÙŠØ©:
12. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©
13. âœ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ©

---

## ğŸš€ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø²Ù…Ù†ÙŠØ©:

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„:
- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„
- Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ±
- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ:
- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´ØªØ±ÙŠ
- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«:
- Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
- Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø±Ø§Ø¨Ø¹:
- ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹
- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø³:
- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„
- Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:

1. **ÙƒÙ„ Ù†Ø¸Ø§Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆÙØ¹Ø§Ù„** - Ù„Ø§ mock data
2. **Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„** - ÙƒÙ„ API ÙŠØ­ØªØ§Ø¬ ØªÙˆØ«ÙŠÙ‚
3. **Ø§Ù„Ø£Ù…Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹** - ÙƒÙ„ endpoint ÙŠØ­ØªØ§Ø¬ authentication/authorization
4. **Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØªÙŠÙ†** - Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†
5. **Responsive Design** - ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©

---

## âœ… Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:

**Ø§Ù„Ø¢Ù† ÙŠØ§ Ø±Ø²Ø§Ù†ØŒ Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ:**

1. Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„ (Authentication System)
2. Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ± (Razan@OSDM)
3. Ø¨Ù†Ø§Ø¡ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

**Ù‡Ù„ ØªØ±ÙŠØ¯ÙŠÙ†ÙŠ Ø£Ù† Ø£Ø¨Ø¯Ø£ ÙÙˆØ±Ø§Ù‹ØŸ** ğŸš€

---

**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù…Ø¹ ØªÙ‚Ø¯Ù… Ø§Ù„Ø¹Ù…Ù„ Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙˆØ§Ù„Ù…ØªØ¨Ù‚ÙŠØ©.
